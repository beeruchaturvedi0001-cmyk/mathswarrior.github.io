<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PAYMENT | MATH'S WARRIOR</title>
<style>
body{
  font-family:'Poppins',sans-serif;
  background: linear-gradient(135deg,#ff4b2b,#ff416c);
  color:#333;
  padding:20px;
  margin:0;
}

.container{
  background:white;
  padding:30px;
  border-radius:20px;
  max-width:500px;
  margin:auto;
  box-shadow:0 12px 35px rgba(0,0,0,0.25);
}

h2{
  text-align:center;
  color:#ff416c;
  margin-bottom:20px;
}

input,button{
  width:100%;
  padding:12px;
  margin:12px 0;
  border-radius:12px;
  border:1px solid #ddd;
  font-size:15px;
}

input[readonly]{
  background:#f2f2f2;
  color:#555;
}

button{
  background:linear-gradient(45deg,#ff416c,#ff4b2b);
  color:white;
  font-weight:bold;
  border:none;
  cursor:pointer;
  transition:0.3s;
}

button:hover{
  transform:scale(1.05);
  background:linear-gradient(45deg,#ff4b2b,#ff416c);
}

.upi-card{
  background:#fff0f2;
  padding:15px;
  border-radius:15px;
  box-shadow:0 6px 15px rgba(0,0,0,0.15);
  margin-top:15px;
}

.upi-card h3{
  color:#ff416c;
  margin-bottom:10px;
  font-size:18px;
}

.upi-card p{
  margin:5px 0;
  font-weight:bold;
}

/* Modal */
.modal{
  display:none;
  position:fixed;
  z-index:1000;
  left:0;
  top:0;
  width:100%;
  height:100%;
  overflow:auto;
  background-color: rgba(0,0,0,0.6);
}

.modal-content{
  background:white;
  margin:12% auto;
  padding:25px;
  border-radius:20px;
  max-width:400px;
  text-align:center;
  box-shadow:0 10px 30px rgba(0,0,0,0.3);
}

.modal-content h3{
  color:#ff416c;
  margin-bottom:15px;
}

.modal-content button{
  margin-top:15px;
}

#receiptText{
  text-align:left;
  background:#f7f7f7;
  padding:12px;
  border-radius:12px;
  font-weight:bold;
  margin-top:10px;
  white-space:pre-line;
}
</style>
</head>
<body>

<div class="container">
<h2>BUY NOW - FEE PAYMENT</h2>

<form id="paymentForm">
  <label>üôãüèªSTUDENT NAME:</label>
  <input type="text" name="name" required placeholder="Enter Your Name">

  <label>üìîCOURSE NAME:</label>
  <input type="text" name="course" id="course" readonly>

  <label>üí≥PAYMENT AMOUNT (‚Çπ):</label>
  <input type="number" name="amount" id="amount" value="2199" readonly>

  <label>Upload Payment Screenshot:</label>
  <input type="file" name="screenshot" accept="image/*" required>

  <button type="submit">Submit Payment</button>
</form>

<div class="upi-card">
<h3>PAY COURSE FEE USING UPI</h3>
<p>UPI ID 1: <strong>7705042892@axl</strong></p>
<p>UPI ID 2: <strong>9670078464@ibl</strong></p>
<p style="font-size:14px; margin-top:5px;">After payment, upload screenshot above and submit.</p>
</div>
</div>

<!-- Modal -->
<div id="successModal" class="MODAL">
  <div class="MODAL-CONTENT">
    <h3>PAYMENT SUCCESSFUL!</h3>
    <div id="RECEIPT TEXT"></div>
    <button onclick="downloadReceipt()">DOWNLOAD RECEIPT</button>
    <button onclick="closeModal()">CLOSE</button>
  </div>
</div>

<script>
// Get course name from URL param
function getQueryParam(param) {
  let urlParams = new URLSearchParams(window.location.search);
  return urlParams.get(param);
}

let courseInput = document.getElementById("course");
let courseName = getQueryParam("course");
if(courseName){ courseInput.value = courseName; }

// Modal
let modal = document.getElementById("successModal");
let receiptText = document.getElementById("receiptText");
function closeModal(){ modal.style.display="none"; }

// Form submission
document.getElementById("paymentForm").addEventListener("submit", function(e){
  e.preventDefault();
  let name = this.name.value;
  let course = this.course.value;
  let amount = this.amount.value;
  let screenshot = this.screenshot.files[0];

  if(!screenshot){ alert("Please upload screenshot!"); return; }

  let date = new Date().toLocaleString();
  receiptText.innerText = `MATH'S WARRIOR - Payment Receipt\n\nStudent Name: ${name}\nCourse Name: ${course}\nAmount Paid: ‚Çπ${amount}\nDate: ${date}`;

  modal.style.display = "block";
  this.reset();
});

// Download receipt as text
function downloadReceipt(){
  let text = receiptText.innerText;
  let blob = new Blob([text], { type: "text/plain" });
  let link = document.createElement("a");
  link.href = URL.createObjectURL(blob);
  link.download = "MATHS_WARRIOR_Receipt.txt";
  link.click();
}
</script>

</body>
</html>