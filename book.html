<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Math's Warrior Book Store</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Poppins,sans-serif;}

body{background:#f2f2f2;}

.header{
background:#0f9d9a;
color:white;
text-align:center;
padding:20px;
font-size:22px;
font-weight:600;
position:relative;
}

.admin-btn{
position:absolute;
right:15px;
top:15px;
background:white;
color:#0f9d9a;
padding:6px 12px;
border-radius:20px;
cursor:pointer;
font-size:14px;
font-weight:600;
}

.profile-section{
text-align:center;
padding:30px 15px;
background:white;
}

.profile-img{
width:150px;
height:150px;
border-radius:50%;
border:6px solid #0f9d9a;
object-fit:cover;
}

.name{
font-size:24px;
font-weight:700;
margin-top:15px;
}

.social-buttons{
margin-top:15px;
display:flex;
justify-content:center;
gap:10px;
flex-wrap:wrap;
}

.social-buttons a{
text-decoration:none;
padding:8px 14px;
border-radius:20px;
color:white;
font-size:14px;
font-weight:500;
}

.call-btn{background:#1e88e5;}
.whatsapp-btn{background:#25D366;}
.youtube-btn{background:#FF0000;}

.book-container{padding:20px;}

.book-card{
background:#1e88e5;
color:white;
padding:15px;
border-radius:8px;
display:flex;
align-items:center;
margin-bottom:15px;
}

.book-card img{
width:60px;
height:80px;
border-radius:4px;
margin-right:15px;
object-fit:cover;
}

.view-btn{
background:white;
color:#1e88e5;
border:none;
padding:6px 12px;
border-radius:5px;
cursor:pointer;
font-size:13px;
}

.delete-btn{
background:red;
border:none;
color:white;
padding:5px 10px;
border-radius:5px;
cursor:pointer;
margin-left:10px;
}

/* Admin Panel */
.admin-panel{
position:fixed;
top:0;
left:0;
width:100%;
height:100%;
background:rgba(0,0,0,0.8);
display:none;
justify-content:center;
align-items:center;
}

.admin-box{
background:white;
width:95%;
max-width:400px;
padding:20px;
border-radius:10px;
color:black;
max-height:90vh;
overflow:auto;
}

.admin-box input{
width:100%;
padding:8px;
margin:5px 0;
}

.admin-box button{
width:100%;
padding:8px;
margin-top:5px;
background:#0f9d9a;
color:white;
border:none;
cursor:pointer;
}
</style>
</head>

<body>

<div class="header">
Math's Warrior Book Store
<span class="admin-btn" onclick="openAdmin()">ADMIN</span>
</div>

<div class="profile-section">
<img id="profileImage" class="profile-img">
<div class="name" id="profileName">Abhinay Pratap Chaubey</div>

<div class="social-buttons">
<a href="tel:9670078465" class="call-btn">Call</a>
<a href="https://wa.me/919670078465" target="_blank" class="whatsapp-btn">WhatsApp</a>
<a href="https://youtube.com/@abhinaypratapmaths?si=7vX8mDSZ303yHsQN" target="_blank" class="youtube-btn">YouTube</a>
</div>

</div>

<div class="book-container" id="bookContainer"></div>

<!-- ADMIN PANEL -->
<div class="admin-panel" id="adminPanel">
<div class="admin-box">

<h3>Admin Login</h3>
<div id="loginSection">
<input type="text" id="adminId" placeholder="Admin ID">
<input type="password" id="adminPass" placeholder="Password">
<button onclick="login()">Login</button>
</div>

<div id="adminContent" style="display:none;">

<h4>Update Profile</h4>
<input type="file" id="newProfileImage">
<input type="text" id="newProfileName" placeholder="Your Name">
<button onclick="updateProfile()">Update Profile</button>

<hr>

<h4>Add Book</h4>
<input type="file" id="bookImage">
<input type="text" id="bookName" placeholder="Book Name">
<input type="text" id="bookLink" placeholder="Book Link">
<button onclick="addBook()">Add Book</button>

<button onclick="closeAdmin()" style="background:red;">Close</button>

</div>

</div>
</div>

<script>

const ADMIN_ID="ADMIN";
const ADMIN_PASS="12345";

/* Load Profile */
function loadProfile(){
let img=localStorage.getItem("PROFILE_IMG");
let name=localStorage.getItem("PROFILE_NAME");

if(img) document.getElementById("profileImage").src=img;
else document.getElementById("profileImage").src="profile.jpg";

if(name) document.getElementById("profileName").innerText=name;
}

function updateProfile(){
let file=document.getElementById("newProfileImage").files[0];
let name=document.getElementById("newProfileName").value;

if(file){
let reader=new FileReader();
reader.onload=function(){
localStorage.setItem("PROFILE_IMG",reader.result);
loadProfile();
}
reader.readAsDataURL(file);
}

if(name){
localStorage.setItem("PROFILE_NAME",name);
loadProfile();
}

alert("Profile Updated");
}

/* Books */
function addBook(){
let file=document.getElementById("bookImage").files[0];
let name=document.getElementById("bookName").value;
let link=document.getElementById("bookLink").value;

if(!file || !name || !link){
alert("Fill all fields");
return;
}

let reader=new FileReader();
reader.onload=function(){
let books=JSON.parse(localStorage.getItem("BOOKS"))||[];
books.push({img:reader.result,name:name,link:link});
localStorage.setItem("BOOKS",JSON.stringify(books));
loadBooks();
alert("Book Added");
}
reader.readAsDataURL(file);
}

function loadBooks(){
let books=JSON.parse(localStorage.getItem("BOOKS"))||[];
let container=document.getElementById("bookContainer");
container.innerHTML="";

books.forEach((b,index)=>{
container.innerHTML+=`
<div class="book-card">
<img src="${b.img}">
<div style="flex:1;">
<div style="font-weight:600; margin-bottom:8px;">${b.name}</div>
<button class="view-btn" onclick="window.open('${b.link}','_blank')">View Book</button>
</div>

</div>`;
});
}

function deleteBook(i){
let books=JSON.parse(localStorage.getItem("BOOKS"))||[];
books.splice(i,1);
localStorage.setItem("BOOKS",JSON.stringify(books));
loadBooks();
}

/* Admin */
function openAdmin(){
document.getElementById("adminPanel").style.display="flex";
}

function closeAdmin(){
document.getElementById("adminPanel").style.display="none";
}

function login(){
let id=document.getElementById("adminId").value;
let pass=document.getElementById("adminPass").value;

if(id===ADMIN_ID && pass===ADMIN_PASS){
document.getElementById("loginSection").style.display="none";
document.getElementById("adminContent").style.display="block";
}else{
alert("Wrong ID or Password");
}
}

loadProfile();
loadBooks();

</script>

</body>
</html>