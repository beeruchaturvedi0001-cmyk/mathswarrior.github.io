<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Student Registration | MATH'S WARRIOR</title>
<style>
body{font-family:'Poppins',sans-serif; background:linear-gradient(135deg,#ff512f,#dd2476); display:flex; justify-content:center; align-items:center; min-height:100vh; padding:20px;}
.form-container{background:white; padding:30px; width:100%; max-width:500px; border-radius:20px; box-shadow:0 10px 25px rgba(0,0,0,0.3);}
h2{text-align:center; color:red; margin-bottom:20px;}
input, select{width:100%; padding:10px; margin:8px 0; border-radius:8px; border:1px solid #ccc;}
button{width:100%; padding:12px; background:red; color:white; border:none; border-radius:10px; font-weight:bold; cursor:pointer; margin-top:10px;}
button:hover{background:black;}
</style>
</head>
<body>

<div class="form-container">
<h2>Student Registration</h2>

<form onsubmit="registerStudent(); return false;">
<input type="text" id="name" placeholder="Full Name" required>
<input type="text" id="father" placeholder="Father's Name" required>
<input type="text" id="mother" placeholder="Mother's Name" required>
<input type="email" id="email" placeholder="Email ID" required>
<input type="text" id="aadhaar" placeholder="Aadhaar Number (12 Digit)" required>
<input type="text" id="mobile" placeholder="Mobile Number (10 Digit)" required>
<input type="text" id="whatsapp" placeholder="WhatsApp Number" required>

<select id="state" required>
<option value="">Select State</option>
<option>Uttar Pradesh</option>
<option>Bihar</option>
<option>Madhya Pradesh</option>
<option>Rajasthan</option>
<option>Delhi</option>
</select>

<select id="district" required>
<option value="">Select District</option>
<option>Lucknow</option>
<option>Kanpur</option>
<option>Varanasi</option>
<option>Prayagraj</option>
<option>Gorakhpur</option>
<option>Agra</option>
<option>Noida</option>
<option>Ghaziabad</option>
<option>Meerut</option>
<option>Ayodhya</option>
</select>

<button type="submit">Register Now</button>
</form>
</div>

<script>
let courseName = localStorage.getItem("selectedCourse") || "N/A";
let courseFee = localStorage.getItem("selectedFee") || "0";

function generateRegID(){return "MW"+Math.floor(Math.random()*1000000);}

function registerStudent(){
let name = document.getElementById("name").value.trim();
let father = document.getElementById("father").value.trim();
let mother = document.getElementById("mother").value.trim();
let email = document.getElementById("email").value.trim();
let aadhaar = document.getElementById("aadhaar").value.trim();
let mobile = document.getElementById("mobile").value.trim();
let whatsapp = document.getElementById("whatsapp").value.trim();
let state = document.getElementById("state").value;
let district = document.getElementById("district").value;

if(!name || !father || !mother || !email || !aadhaar || !mobile || !whatsapp || !state || !district){
alert("All fields are required!"); return;
}
if(aadhaar.length!=12 || isNaN(aadhaar)){alert("Invalid Aadhaar!"); return;}
if(mobile.length!=10 || isNaN(mobile)){alert("Invalid Mobile!"); return;}

let students = JSON.parse(localStorage.getItem("students"))||[];
let existing = students.find(s=>s.aadhaar===aadhaar);

if(existing){
existing.courses.push({name:courseName, fee:courseFee, payment:localStorage.getItem('paymentScreenshot')});
}else{
students.push({
regID: generateRegID(),
name,father,mother,email,aadhaar,mobile,whatsapp,state,district,
courses:[{name:courseName, fee:courseFee, payment:localStorage.getItem('paymentScreenshot')}]
});
}
localStorage.setItem("students", JSON.stringify(students));
alert("Registration Successful!");
window.location.href="my-course.html";
}
</script>
</body>
</html>