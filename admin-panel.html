<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Panel - Math's Warrior</title>

<style>
body{
margin:0;
font-family:Poppins;
background:#0f0f0f;
color:white;
}

h2{text-align:center;color:#ff0000;}

.container{
max-width:1200px;
margin:auto;
padding:20px;
}

.box{
background:#1a1a1a;
border:2px solid #ff0000;
padding:20px;
border-radius:12px;
margin-bottom:20px;
box-shadow:0 0 20px rgba(255,0,0,0.4);
}

input{
width:100%;
padding:8px;
margin:6px 0;
border-radius:6px;
border:1px solid #ff0000;
background:#111;
color:white;
}

button{
padding:6px 12px;
border:none;
border-radius:6px;
cursor:pointer;
font-weight:bold;
margin:4px 2px;
}

.add{background:#ff0000;color:white;}
.edit{background:orange;color:white;}
.delete{background:#800000;color:white;}
.logout{background:#ff416c;color:white;}

.hidden{display:none;}

.gallery-img{
width:120px;
border-radius:8px;
margin:6px;
}

.login-box{
max-width:400px;
margin:120px auto;
background:#1a1a1a;
padding:20px;
border-radius:12px;
border:2px solid red;
box-shadow:0 0 20px rgba(255,0,0,0.5);
}
</style>
</head>
<body>

<!-- LOGIN SECTION -->
<div id="loginSection" class="login-box">
<h2>ADMIN LOGIN</h2>
<input type="text" id="adminId" placeholder="Enter ID">
<input type="password" id="adminPass" placeholder="Enter Password">
<button class="add" onclick="login()">Login</button>
</div>

<!-- ADMIN PANEL -->
<div id="adminPanel" class="container hidden">

<h2>ADMIN DASHBOARD</h2>
<button class="logout" onclick="logout()">Logout</button>

<div class="box">
<h3>Registered Students</h3>
<div id="studentList"></div>
</div>

<div class="box">
<h3>Add Teacher</h3>
<input id="tName" placeholder="Name">
<input id="tSubject" placeholder="Subject">
<input id="tMobile" placeholder="Mobile">
<input id="tWhatsapp" placeholder="WhatsApp">
<input id="tEmail" placeholder="Email">
<input type="file" id="tPhoto">
<button class="add" onclick="addTeacher()">Add</button>
<div id="teacherList"></div>
</div>

<div class="box">
<h3>Add Founder</h3>
<input id="fName" placeholder="Name">
<input id="fRole" placeholder="Role">
<input id="fMobile" placeholder="Mobile">
<input id="fWhatsapp" placeholder="WhatsApp">
<input id="fEmail" placeholder="Email">
<input type="file" id="fPhoto">
<button class="add" onclick="addFounder()">Add</button>
<div id="founderList"></div>
</div>

<div class="box">
<h3>Add Notes</h3>
<input id="nName" placeholder="Notes Name">
<input type="file" id="nFile">
<button class="add" onclick="addNotes()">Upload</button>
<div id="notesList"></div>
</div>

<div class="box">
<h3>Add Notification</h3>
<input id="notiName" placeholder="Notification Title">
<input id="notiLink" placeholder="Paste Link">
<button class="add" onclick="addNotification()">Add</button>
<div id="notificationList"></div>
</div>

<div class="box">
<h3>Gallery (Max 10MB)</h3>
<input type="file" id="galleryInput" multiple>
<button class="add" onclick="addGallery()">Upload</button>
<div id="galleryList"></div>
</div>

</div>

<script>

/* ===== LOGIN SYSTEM ===== */

if(sessionStorage.getItem("isAdmin")==="true"){
showPanel();
}

function login(){
let id=document.getElementById("adminId").value;
let pass=document.getElementById("adminPass").value;

if(id==="admin" && pass==="1234"){
sessionStorage.setItem("isAdmin","true");
showPanel();
}else{
alert("Wrong ID or Password");
}
}

function logout(){
sessionStorage.removeItem("isAdmin");
location.reload();
}

function showPanel(){
document.getElementById("loginSection").classList.add("hidden");
document.getElementById("adminPanel").classList.remove("hidden");
loadAll();
}

/* ===== IMAGE VALIDATION ===== */

function validateImage(file){
if(file.size>10*1024*1024){
alert("Image is bigger than 10MB");
return false;
}
return true;
}

/* ===== ALL EXISTING FUNCTIONS SAME ===== */

function addTeacher(){
let name=tName.value,subject=tSubject.value,mobile=tMobile.value,whatsapp=tWhatsapp.value,email=tEmail.value,photo=tPhoto.files[0];
if(!name||!subject||!mobile||!email||!photo){alert("Fill all fields");return;}
if(!validateImage(photo))return;

let reader=new FileReader();
reader.onload=function(){
let data=JSON.parse(localStorage.getItem("TEACHERS"))||[];
data.push({name,subject,mobile,whatsapp,email,photo:this.result});
localStorage.setItem("TEACHERS",JSON.stringify(data));
alert("Teacher Added Successfully");
loadAll();
}
reader.readAsDataURL(photo);
}

function addFounder(){
let name=fName.value,role=fRole.value,mobile=fMobile.value,whatsapp=fWhatsapp.value,email=fEmail.value,photo=fPhoto.files[0];
if(!name||!role||!mobile||!email||!photo){alert("Fill all fields");return;}
if(!validateImage(photo))return;

let reader=new FileReader();
reader.onload=function(){
let data=JSON.parse(localStorage.getItem("FOUNDERS"))||[];
data.push({name,role,mobile,whatsapp,email,photo:this.result});
localStorage.setItem("FOUNDERS",JSON.stringify(data));
alert("Founder Added Successfully");
loadAll();
}
reader.readAsDataURL(photo);
}

function addNotes(){
let name=nName.value,file=nFile.files[0];
if(!name||!file){alert("Fill all fields");return;}
let reader=new FileReader();
reader.onload=function(){
let data=JSON.parse(localStorage.getItem("NOTES"))||[];
data.push({name,file:this.result});
localStorage.setItem("NOTES",JSON.stringify(data));
alert("Notes Uploaded");
loadAll();
}
reader.readAsDataURL(file);
}

function addNotification(){
let name=notiName.value,link=notiLink.value;
if(!name||!link){alert("Fill all fields");return;}
let data=JSON.parse(localStorage.getItem("NOTIFICATIONS"))||[];
data.push({name,link});
localStorage.setItem("NOTIFICATIONS",JSON.stringify(data));
alert("Notification Added");
loadAll();
}

function addGallery(){
let files=galleryInput.files;
let data=JSON.parse(localStorage.getItem("GALLERY"))||[];

for(let file of files){
if(!validateImage(file))return;
let reader=new FileReader();
reader.onload=function(){
data.push(this.result);
localStorage.setItem("GALLERY",JSON.stringify(data));
loadAll();
}
reader.readAsDataURL(file);
}
}

function loadAll(){
loadList("TEACHERS","teacherList");
loadList("FOUNDERS","founderList");
loadList("NOTES","notesList");
loadList("NOTIFICATIONS","notificationList");
loadGallery();
}

function loadList(key,id){
let data=JSON.parse(localStorage.getItem(key))||[];
let div=document.getElementById(id);
div.innerHTML="";
data.forEach((item,index)=>{
div.innerHTML+=`
<p>${item.name||item.role}
<button class="edit" onclick="editItem('${key}',${index})">Edit</button>
<button class="delete" onclick="deleteItem('${key}',${index})">Delete</button>
</p>`;
});
}

function loadGallery(){
let data=JSON.parse(localStorage.getItem("GALLERY"))||[];
galleryList.innerHTML="";
data.forEach((img,index)=>{
galleryList.innerHTML+=`
<img src="${img}" class="gallery-img">
<button class="delete" onclick="deleteItem('GALLERY',${index})">Delete</button>
`;
});
}

function deleteItem(key,index){
let data=JSON.parse(localStorage.getItem(key))||[];
data.splice(index,1);
localStorage.setItem(key,JSON.stringify(data));
loadAll();
}

function editItem(key,index){
let data=JSON.parse(localStorage.getItem(key))||[];
let newName=prompt("Enter New Name",data[index].name||data[index].role);
if(newName){
if(key==="FOUNDERS"){data[index].role=newName;}
else{data[index].name=newName;}
localStorage.setItem(key,JSON.stringify(data));
loadAll();
}
}

</script>
</body>
</html>