<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ADMIN PANEL | MATH'S WARRIOR</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
body{
  margin:0;
  font-family:'Poppins',sans-serif;
  background:linear-gradient(135deg,#000428,#004e92);
  color:white;
}
.header{
  text-align:center;
  padding:20px;
  font-size:28px;
  font-weight:bold;
  background:#111;
  color:#FF416C;
}
.container{
  max-width:1200px;
  margin:auto;
  padding:20px;
  display:none;
}
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(320px,1fr));
  gap:20px;
}
.box{
  background:#111;
  padding:20px;
  border-radius:15px;
  box-shadow:0 0 20px rgba(0,0,0,0.6);
}
.box h3{
  color:#FF416C;
  text-align:center;
}
input, select{
  width:100%;
  padding:8px;
  margin:6px 0;
  border:none;
  border-radius:6px;
}
button{
  width:100%;
  padding:10px;
  border:none;
  border-radius:6px;
  background:#FF416C;
  color:white;
  font-weight:bold;
  cursor:pointer;
  margin-top:6px;
}
.item{
  background:#222;
  padding:10px;
  margin-top:10px;
  border-radius:8px;
  font-size:14px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  flex-wrap:wrap;
}
.item div{
  margin-right:10px;
}
.delete-btn{
  background:red;
  margin-left:5px;
}
.edit-btn{
  background:orange;
  margin-left:5px;
}
.login-box{
  max-width:400px;
  margin:100px auto;
  background:#111;
  padding:30px;
  border-radius:15px;
  box-shadow:0 0 20px black;
}
.message{
  text-align:center;
  margin-top:10px;
  color:yellow;
}
.preview-img{
  max-width:60px;
  max-height:60px;
  border-radius:6px;
  margin-right:5px;
}
.file-preview{
  display:flex;
  flex-wrap:wrap;
  margin-top:5px;
}
</style>
</head>
<body>

<div class="header">MATH'S WARRIOR INSTITUTE ADMIN DASHBOARD</div>

<!-- LOGIN SECTION -->
<div class="login-box" id="loginBox">
<h3>ADMIN LOGIN</h3>
<input type="text" id="adminId" placeholder="ENTER YOUR USER ID">
<input type="password" id="adminPass" placeholder="ENTER YOUR PASSWORD">
<button onclick="login()">LOGIN</button>
<div class="message" id="loginMsg"></div>
</div>

<!-- ADMIN PANEL -->
<div class="container" id="adminPanel">
<div class="grid">

<!-- STUDENT LIST -->
<div class="box">
<h3>REGISTERED STUDENTS</h3>
<div id="studentList"></div>
</div>

<!-- ADD TEACHER -->
<div class="box">
<h3>ADD TEACHER</h3>
<input id="tName" placeholder="NAME">
<input id="tSubject" placeholder="SUBJECT">
<input id="tExp" placeholder="EXPERIENCE">
<input id="tMobile" placeholder="MOBILE">
<input id="tWhatsapp" placeholder="WHATSAPP">
<input id="tEmail" placeholder="EMAIL">
<input type="file" id="tPhoto">
<div class="file-preview" id="tPreview"></div>
<button onclick="addTeacher()">ADD TEACHER</button>
<div id="teacherList"></div>
</div>

<!-- ADD FOUNDER -->
<div class="box">
<h3>ADD FOUNDER</h3>
<input id="fName" placeholder="NAME">
<input id="fRole" placeholder="RESPONSIBILITY">
<input id="fMobile" placeholder="MOBILE">
<input id="fWhatsapp" placeholder="WHATSAPP">
<input id="fEmail" placeholder="EMAIL">
<input type="file" id="fPhoto">
<div class="file-preview" id="fPreview"></div>
<button onclick="addFounder()">ADD FOUNDER</button>
<div id="founderList"></div>
</div>

<!-- NOTES -->
<div class="box">
<h3>UPLOAD NOTES / FILES</h3>
<input id="nName" placeholder="FILE NAME">
<input id="nClass" placeholder="CLASS">
<input type="file" id="nFile">
<div class="file-preview" id="nPreview"></div>
<button onclick="addNote()">UPLOAD FILE</button>
<div id="notesList"></div>
</div>

<!-- NOTIFICATION -->
<div class="box">
<h3>ADD NOTIFICATION</h3>
<input id="notiName" placeholder="NOTIFICATION NAME">
<input id="notiLink" placeholder="PASTE LINK">
<button onclick="addNotification()">ADD NOTIFICATION</button>
<div id="notificationList"></div>
</div>

</div>
</div>

<script>
// Admin ID & Password
const ADMIN_ID="ADMIN";
const ADMIN_PASS="12345";

function login(){
  let id=document.getElementById("adminId").value;
  let pass=document.getElementById("adminPass").value;
  if(id===ADMIN_ID && pass===ADMIN_PASS){
    document.getElementById("loginMsg").innerHTML="LOGIN SUCCESSFUL";
    document.getElementById("loginBox").style.display="none";
    document.getElementById("adminPanel").style.display="block";
    loadAll();
  }else{
    document.getElementById("loginMsg").innerHTML="INVALID USER ID OR PASSWORD";
  }
}

/* PREVIEW FUNCTION */
function previewFile(input, previewDiv){
  const file = input.files[0];
  const preview = document.getElementById(previewDiv);
  preview.innerHTML = "";
  if(file){
    const url = URL.createObjectURL(file);
    if(file.type.startsWith("image/")){
      const img = document.createElement("img");
      img.src = url;
      img.className = "preview-img";
      preview.appendChild(img);
    } else {
      const div = document.createElement("div");
      div.innerText = file.name;
      div.style.padding="5px";
      div.style.background="#333";
      div.style.borderRadius="5px";
      preview.appendChild(div);
    }
  }
}

/* LIST LOADERS */
function loadStudents(){
  let data=JSON.parse(localStorage.getItem("STUDENTS"))||[];
  const list=document.getElementById("studentList");
  list.innerHTML="";
  data.forEach((s,i)=>{
    list.innerHTML+=`
    <div class="item">
      <div>${s.name} | ${s.course} | ${s.mobile} | ${s.utr}</div>
      <div><button class="delete-btn" onclick="deleteStudent(${i})">DELETE</button></div>
    </div>`;
  });
}
function loadTeachers(){
  let data=JSON.parse(localStorage.getItem("TEACHERS"))||[];
  const list=document.getElementById("teacherList");
  list.innerHTML="";
  data.forEach((t,i)=>{
    let imgTag=t.photo ? `<img src="${t.photo}" class="preview-img">` : "";
    list.innerHTML+=`
    <div class="item">
      <div>${imgTag}${t.name} | ${t.subject} | ${t.exp} yrs | ${t.mobile} | ${t.whatsapp} | ${t.email}</div>
      <div><button class="delete-btn" onclick="deleteTeacher(${i})">DELETE</button></div>
    </div>`;
  });
}
function loadFounder(){
  let data=JSON.parse(localStorage.getItem("FOUNDERS"))||[];
  const list=document.getElementById("founderList");
  list.innerHTML="";
  data.forEach((f,i)=>{
    let imgTag=f.photo ? `<img src="${f.photo}" class="preview-img">` : "";
    list.innerHTML+=`
    <div class="item">
      <div>${imgTag}${f.name} | ${f.responsibility} | ${f.mobile} | ${f.whatsapp} | ${f.email}</div>
      <div><button class="delete-btn" onclick="deleteFounder(${i})">DELETE</button></div>
    </div>`;
  });
}
function loadNotes(){
  let data=JSON.parse(localStorage.getItem("NOTES"))||[];
  const list=document.getElementById("notesList");
  list.innerHTML="";
  data.forEach((n,i)=>{
    list.innerHTML+=`
    <div class="item">
      <div>${n.name} | ${n.class}</div>
      <div>
        <a href="${n.file}" download="${n.filename}"><button class="features">DOWNLOAD</button></a>
        <button class="delete-btn" onclick="deleteNote(${i})">DELETE</button>
      </div>
    </div>`;
  });
}
function loadNotification(){
  let data=JSON.parse(localStorage.getItem("NOTIFICATIONS"))||[];
  const list=document.getElementById("notificationList");
  list.innerHTML="";
  data.forEach((n,i)=>{
    list.innerHTML+=`
    <div class="item">
      <div>${n.name} | <a href="${n.link}" target="_blank">${n.link}</a></div>
      <div><button class="delete-btn" onclick="deleteNotification(${i})">DELETE</button></div>
    </div>`;
  });
}

/* ADD FUNCTIONS */
function addTeacher(){
  const input=document.getElementById("tPhoto");
  const file=input.files[0];
  let reader=new FileReader();
  reader.onload=()=>{
    let teachers=JSON.parse(localStorage.getItem("TEACHERS"))||[];
    teachers.push({
      name:tName.value, subject:tSubject.value, exp:tExp.value,
      mobile:tMobile.value, whatsapp:tWhatsapp.value, email:tEmail.value,
      photo: file ? reader.result : ""
    });
    localStorage.setItem("TEACHERS", JSON.stringify(teachers));
    loadTeachers();
    input.value=""; document.getElementById("tPreview").innerHTML="";
    tName.value=""; tSubject.value=""; tExp.value=""; tMobile.value=""; tWhatsapp.value=""; tEmail.value="";
  };
  if(file) reader.readAsDataURL(file);
  else reader.onload();
}
function addFounder(){
  const input=document.getElementById("fPhoto");
  const file=input.files[0];
  let reader=new FileReader();
  reader.onload=()=>{
    let data=JSON.parse(localStorage.getItem("FOUNDERS"))||[];
    data.push({
      name:fName.value, responsibility:fRole.value, mobile:fMobile.value,
      whatsapp:fWhatsapp.value, email:fEmail.value, photo:file?reader.result:""
    });
    localStorage.setItem("FOUNDERS", JSON.stringify(data));
    loadFounder();
    input.value=""; document.getElementById("fPreview").innerHTML="";
    fName.value=""; fRole.value=""; fMobile.value=""; fWhatsapp.value=""; fEmail.value="";
  };
  if(file) reader.readAsDataURL(file);
  else reader.onload();
}
function addNote(){
  const input=document.getElementById("nFile");
  const file=input.files[0];
  if(file){
    let reader=new FileReader();
    reader.onload=()=>{
      let data=JSON.parse(localStorage.getItem("NOTES"))||[];
      data.push({name:nName.value, class:nClass.value, file:reader.result, filename:file.name});
      localStorage.setItem("NOTES", JSON.stringify(data));
      loadNotes();
      input.value=""; document.getElementById("nPreview").innerHTML="";
      nName.value=""; nClass.value="";
    };
    reader.readAsDataURL(file);
  } else alert("Select a file first!");
}
function addNotification(){
  let data=JSON.parse(localStorage.getItem("NOTIFICATIONS"))||[];
  data.push({name:notiName.value, link:notiLink.value});
  localStorage.setItem("NOTIFICATIONS", JSON.stringify(data));
  loadNotification();
  notiName.value=""; notiLink.value="";
}

/* DELETE FUNCTIONS */
function deleteStudent(i){ let data=JSON.parse(localStorage.getItem("STUDENTS"))||[]; data.splice(i,1); localStorage.setItem("STUDENTS",JSON.stringify(data)); loadStudents(); }
function deleteTeacher(i){ let data=JSON.parse(localStorage.getItem("TEACHERS"))||[]; data.splice(i,1); localStorage.setItem("TEACHERS",JSON.stringify(data)); loadTeachers(); }
function deleteFounder(i){ let data=JSON.parse(localStorage.getItem("FOUNDERS"))||[]; data.splice(i,1); localStorage.setItem("FOUNDERS",JSON.stringify(data)); loadFounder(); }
function deleteNote(i){ let data=JSON.parse(localStorage.getItem("NOTES"))||[]; data.splice(i,1); localStorage.setItem("NOTES",JSON.stringify(data)); loadNotes(); }
function deleteNotification(i){ let data=JSON.parse(localStorage.getItem("NOTIFICATIONS"))||[]; data.splice(i,1); localStorage.setItem("NOTIFICATIONS",JSON.stringify(data)); loadNotification(); }

function loadAll(){ loadStudents(); loadTeachers(); loadFounder(); loadNotes(); loadNotification(); }

/* FILE INPUT CHANGE FOR PREVIEW */
document.getElementById("tPhoto").addEventListener("change",()=>previewFile(tPhoto,"tPreview"));
document.getElementById("fPhoto").addEventListener("change",()=>previewFile(fPhoto,"fPreview"));
document.getElementById("nFile").addEventListener("change",()=>previewFile(nFile,"nPreview"));
</script>
</body>
</html>