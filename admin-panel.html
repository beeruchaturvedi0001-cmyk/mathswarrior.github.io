<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MATH'S WARRIOR ADMIN PANEL</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}
body{background:linear-gradient(135deg,#ff0000,#001f7f);padding:20px;color:white;}
.container{max-width:1200px;margin:auto;}
.admin-login,.panel{background:white;color:black;padding:20px;border-radius:20px;margin-bottom:20px;}
input,button{padding:10px;margin:5px;border-radius:10px;border:1px solid #ccc;}
button{background:linear-gradient(45deg,#ff0000,#001f7f);color:white;font-weight:bold;cursor:pointer;}
.tabs{margin:15px 0;}
.tabs button{background:#ffeb3b;color:black;margin:3px;}
.section{display:none;margin-top:15px;}
.list-box div{background:#f5f5f5;margin:8px 0;padding:8px;border-radius:10px;display:flex;justify-content:space-between;align-items:center;}
.card{display:flex;align-items:center;gap:10px;}
.card img{width:60px;height:60px;border-radius:50%;object-fit:cover;}
.btn-sm{padding:4px 8px;font-size:12px;border-radius:6px;color:white;text-decoration:none;margin-right:5px;}
.call{background:#28a745;}
.whatsapp{background:#25D366;}
.email{background:#007bff;}
.download{background:#ff9800;}
.delete{background:red;}
</style>
</head>
<body>

<div class="container">

<!-- LOGIN -->
<div class="admin-login" id="loginBox">
<h2>Admin Login</h2>
<input type="text" id="adminUser" placeholder="Username"><br>
<input type="password" id="adminPass" placeholder="Password"><br>
<button onclick="adminLogin()">Login</button>
<p id="loginMsg"></p>
</div>

<!-- PANEL -->
<div class="panel" id="adminPanel" style="display:none;">

<div class="tabs">
<button onclick="openTab('teachers')">Teachers</button>
<button onclick="openTab('responsibility')">Responsibility</button>
<button onclick="openTab('notes')">Notes</button>
<button onclick="openTab('notifications')">Notifications</button>
</div>

<!-- TEACHERS -->
<div class="section" id="teachers">
<h3>Add Teacher</h3>
<input type="text" id="tName" placeholder="Name">
<input type="text" id="tSubject" placeholder="Subject">
<input type="text" id="tMobile" placeholder="Mobile">
<input type="text" id="tWhatsapp" placeholder="WhatsApp">
<input type="text" id="tEmail" placeholder="Email">
<input type="file" id="tPhoto">
<button onclick="addTeacher()">Add</button>
<div id="teacherList"></div>
</div>

<!-- RESPONSIBILITY -->
<div class="section" id="responsibility">
<h3>Add Responsibility / Founder</h3>
<input type="text" id="rName" placeholder="Name">
<input type="text" id="rRole" placeholder="Role">
<input type="text" id="rMobile" placeholder="Mobile">
<input type="text" id="rWhatsapp" placeholder="WhatsApp">
<input type="text" id="rEmail" placeholder="Email">
<input type="file" id="rPhoto">
<button onclick="addResponsibility()">Add</button>
<div id="respList"></div>
</div>

<!-- NOTES -->
<div class="section" id="notes">
<h3>Upload Notes</h3>
<input type="text" id="noteTitle" placeholder="Title">
<input type="file" id="noteFile">
<button onclick="addNote()">Upload</button>
<div id="noteList"></div>
</div>

<!-- NOTIFICATIONS -->
<div class="section" id="notifications">
<h3>Add Notification</h3>
<input type="text" id="notifyTitle" placeholder="Title">
<input type="text" id="notifyLink" placeholder="Link">
<button onclick="addNotification()">Add</button>
<div id="notifyList"></div>
</div>

</div>
</div>

<script>

/* LOGIN */
function adminLogin(){
let u=adminUser.value;
let p=adminPass.value;
if(u==="admin" && p==="admin123"){
loginBox.style.display="none";
adminPanel.style.display="block";
openTab('teachers');
loadAll();
}else{
loginMsg.innerText="Invalid Credentials âŒ";
}
}

/* TAB */
function openTab(id){
document.querySelectorAll(".section").forEach(s=>s.style.display="none");
document.getElementById(id).style.display="block";
}

/* ================= TEACHERS ================= */
function addTeacher(){
let reader=new FileReader();
let file=tPhoto.files[0];
reader.onload=function(e){
let data=JSON.parse(localStorage.getItem("teachers"))||[];
data.push({
name:tName.value,
subject:tSubject.value,
mobile:tMobile.value,
whatsapp:tWhatsapp.value,
email:tEmail.value,
image:e.target.result
});
localStorage.setItem("teachers",JSON.stringify(data));
loadTeachers();
}
if(file) reader.readAsDataURL(file);
}

function loadTeachers(){
let data=JSON.parse(localStorage.getItem("teachers"))||[];
teacherList.innerHTML="";
data.forEach((t,i)=>{
teacherList.innerHTML+=`
<div class="list-box">
<div class="card">
<img src="${t.image||'https://via.placeholder.com/60'}">
<div>
<b>${t.name}</b><br>${t.subject}
</div>
</div>
<div>
<a class="btn-sm call" href="tel:${t.mobile}">Call</a>
<a class="btn-sm whatsapp" target="_blank" href="https://wa.me/${t.whatsapp}">WA</a>
<a class="btn-sm email" href="mailto:${t.email}">Mail</a>
<button class="btn-sm delete" onclick="deleteTeacher(${i})">X</button>
</div>
</div>`;
});
}

function deleteTeacher(i){
let data=JSON.parse(localStorage.getItem("teachers"))||[];
data.splice(i,1);
localStorage.setItem("teachers",JSON.stringify(data));
loadTeachers();
}

/* ================= RESPONSIBILITY ================= */
function addResponsibility(){
let reader=new FileReader();
let file=rPhoto.files[0];
reader.onload=function(e){
let data=JSON.parse(localStorage.getItem("responsibilityData"))||[];
data.push({
name:rName.value,
role:rRole.value,
mobile:rMobile.value,
whatsapp:rWhatsapp.value,
email:rEmail.value,
image:e.target.result
});
localStorage.setItem("responsibilityData",JSON.stringify(data));
loadResponsibility();
}
if(file) reader.readAsDataURL(file);
}

function loadResponsibility(){
let data=JSON.parse(localStorage.getItem("responsibilityData"))||[];
respList.innerHTML="";
data.forEach((r,i)=>{
respList.innerHTML+=`
<div class="list-box">
<div class="card">
<img src="${r.image||'https://via.placeholder.com/60'}">
<div>
<b>${r.name}</b><br>${r.role}
</div>
</div>
<div>
<a class="btn-sm call" href="tel:${r.mobile}">Call</a>
<a class="btn-sm whatsapp" target="_blank" href="https://wa.me/${r.whatsapp}">WA</a>
<a class="btn-sm email" href="mailto:${r.email}">Mail</a>
<button class="btn-sm delete" onclick="deleteResp(${i})">X</button>
</div>
</div>`;
});
}

function deleteResp(i){
let data=JSON.parse(localStorage.getItem("responsibilityData"))||[];
data.splice(i,1);
localStorage.setItem("responsibilityData",JSON.stringify(data));
loadResponsibility();
}

/* ================= NOTES ================= */
function addNote(){
let reader=new FileReader();
let file=noteFile.files[0];
reader.onload=function(e){
let data=JSON.parse(localStorage.getItem("notes"))||[];
data.push({title:noteTitle.value,file:e.target.result,filename:file.name});
localStorage.setItem("notes",JSON.stringify(data));
loadNotes();
}
if(file) reader.readAsDataURL(file);
}

function loadNotes(){
let data=JSON.parse(localStorage.getItem("notes"))||[];
noteList.innerHTML="";
data.forEach((n,i)=>{
noteList.innerHTML+=`
<div class="list-box">
<span>${n.title}</span>
<div>
<a class="btn-sm download" href="${n.file}" download="${n.filename}">Download</a>
<button class="btn-sm delete" onclick="deleteNote(${i})">X</button>
</div>
</div>`;
});
}

function deleteNote(i){
let data=JSON.parse(localStorage.getItem("notes"))||[];
data.splice(i,1);
localStorage.setItem("notes",JSON.stringify(data));
loadNotes();
}

/* ================= NOTIFICATIONS ================= */
function addNotification(){
let data=JSON.parse(localStorage.getItem("notifications"))||[];
data.push({title:notifyTitle.value,link:notifyLink.value});
localStorage.setItem("notifications",JSON.stringify(data));
loadNotifications();
}

function loadNotifications(){
let data=JSON.parse(localStorage.getItem("notifications"))||[];
notifyList.innerHTML="";
data.forEach((n,i)=>{
notifyList.innerHTML+=`
<div class="list-box">
<span>${n.title}</span>
<button class="btn-sm delete" onclick="deleteNotification(${i})">X</button>
</div>`;
});
}

function deleteNotification(i){
let data=JSON.parse(localStorage.getItem("notifications"))||[];
data.splice(i,1);
localStorage.setItem("notifications",JSON.stringify(data));
loadNotifications();
}

function loadAll(){
loadTeachers();
loadResponsibility();
loadNotes();
loadNotifications();
}

</script>
</body>
</html>