<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MATH'S WARRIOR ADMIN PANEL</title>

<style>
body{font-family:Arial;background:linear-gradient(135deg,#ff0000,#001f7f);padding:20px;color:white}
.container{max-width:1100px;margin:auto}
.box{background:white;color:black;padding:20px;border-radius:15px;margin-bottom:20px}
input,button{padding:8px;margin:5px;border-radius:8px;border:1px solid #ccc}
button{background:#001f7f;color:white;font-weight:bold;cursor:pointer}
.section{display:none;margin-top:15px}
.card{background:#f5f5f5;padding:10px;margin:10px 0;border-radius:10px;display:flex;justify-content:space-between;align-items:center}
.card img{width:60px;height:60px;border-radius:50%;object-fit:cover}
.small-btn{padding:5px 8px;font-size:12px;border-radius:6px;color:white;text-decoration:none;margin-right:5px}
.call{background:green}
.whatsapp{background:#25D366}
.email{background:#007bff}
.delete{background:red}
.download{background:orange}
</style>
</head>
<body>

<div class="container">

<!-- LOGIN -->
<div class="box" id="loginBox">
<h2>Admin Login</h2>
<input type="text" id="adminUser" placeholder="Username"><br>
<input type="password" id="adminPass" placeholder="Password"><br>
<button onclick="adminLogin()">Login</button>
<p id="loginMsg"></p>
</div>

<!-- PANEL -->
<div class="box" id="adminPanel" style="display:none">

<button onclick="openTab('teachers')">Teachers</button>
<button onclick="openTab('responsibility')">Responsibility</button>
<button onclick="openTab('notes')">Notes</button>
<button onclick="openTab('notifications')">Notifications</button>

<!-- ================= TEACHERS ================= -->
<div class="section" id="teachers">
<h3>Add Teacher</h3>
<input type="text" id="tName" placeholder="Name">
<input type="text" id="tSubject" placeholder="Subject">
<input type="text" id="tExperience" placeholder="Experience (Years)">
<input type="text" id="tMobile" placeholder="Mobile">
<input type="text" id="tWhatsapp" placeholder="WhatsApp">
<input type="text" id="tEmail" placeholder="Email">
<input type="file" id="tPhoto" accept="image/*">
<button onclick="addTeacher()">Add</button>
<div id="teacherList"></div>
</div>

<!-- ================= RESPONSIBILITY ================= -->
<div class="section" id="responsibility">
<h3>Add Responsibility / Founder</h3>
<input type="text" id="rName" placeholder="Name">
<input type="text" id="rRole" placeholder="Role">
<input type="text" id="rMobile" placeholder="Mobile">
<input type="text" id="rWhatsapp" placeholder="WhatsApp">
<input type="text" id="rEmail" placeholder="Email">
<input type="file" id="rPhoto" accept="image/*">
<button onclick="addResponsibility()">Add</button>
<div id="respList"></div>
</div>

<!-- ================= NOTES ================= -->
<div class="section" id="notes">
<h3>Upload Notes</h3>
<input type="text" id="noteTitle" placeholder="Title">
<input type="file" id="noteFile">
<button onclick="addNote()">Upload</button>
<div id="noteList"></div>
</div>

<!-- ================= NOTIFICATIONS ================= -->
<div class="section" id="notifications">
<h3>Add Notification</h3>
<input type="text" id="notifyTitle" placeholder="Title">
<input type="text" id="notifyLink" placeholder="Paste Link">
<button onclick="addNotification()">Add</button>
<div id="notifyList"></div>
</div>

</div>
</div>

<script>

/* LOGIN */
function adminLogin(){
if(adminUser.value==="ABHINAYPRATAP" && adminPass.value==="ABHINAY0011"){
loginMsg.innerHTML="✅ SUCCESSFULL LOGIN";
setTimeout(()=>{
loginBox.style.display="none";
adminPanel.style.display="block";
openTab('teachers');
loadAll();
},800);
}else{
loginMsg.innerHTML="Invalid Credentials ❌";
}
}

function openTab(id){
document.querySelectorAll(".section").forEach(s=>s.style.display="none");
document.getElementById(id).style.display="block";
}

/* IMAGE VALIDATION */
function validateImage(file){
const allowed=["image/jpeg","image/png","image/jpg","image/webp","image/gif"];
if(!allowed.includes(file.type)){ alert("Only Image Files Allowed"); return false;}
if(file.size>5*1024*1024){ alert("Max 5MB allowed"); return false;}
return true;
}

/* ================= TEACHERS ================= */
function addTeacher(){
let file=tPhoto.files[0];
let data=JSON.parse(localStorage.getItem("teachers"))||[];

function save(img){
data.push({
name:tName.value,
subject:tSubject.value,
experience:tExperience.value,
mobile:tMobile.value,
whatsapp:tWhatsapp.value,
email:tEmail.value,
image:img
});
localStorage.setItem("teachers",JSON.stringify(data));
loadTeachers();
tName.value=tSubject.value=tExperience.value=tMobile.value=tWhatsapp.value=tEmail.value=tPhoto.value="";
}

if(file){
if(!validateImage(file)) return;
let reader=new FileReader();
reader.onload=e=>save(e.target.result);
reader.readAsDataURL(file);
}else{
save("");
}
}

function loadTeachers(){
let data=JSON.parse(localStorage.getItem("teachers"))||[];
teacherList.innerHTML="";
data.forEach((t,i)=>{
teacherList.innerHTML+=`
<div class="card">
<div>
<img src="${t.image||'https://via.placeholder.com/60'}">
<b>${t.name}</b><br>${t.subject}<br>Exp: ${t.experience} Years
</div>
<div>
<a class="small-btn call" href="tel:${t.mobile}">Call</a>
<a class="small-btn whatsapp" href="https://wa.me/${t.whatsapp}" target="_blank">WA</a>
<a class="small-btn email" href="mailto:${t.email}">Mail</a>
<button class="small-btn delete" onclick="deleteTeacher(${i})">X</button>
</div>
</div>`;
});
}

function deleteTeacher(i){
let data=JSON.parse(localStorage.getItem("teachers"))||[];
data.splice(i,1);
localStorage.setItem("teachers",JSON.stringify(data));
loadTeachers();
}

/* ================= RESPONSIBILITY ================= */
function addResponsibility(){
let file=rPhoto.files[0];
let data=JSON.parse(localStorage.getItem("responsibilityData"))||[];

function save(img){
data.push({
name:rName.value,
role:rRole.value,
mobile:rMobile.value,
whatsapp:rWhatsapp.value,
email:rEmail.value,
image:img
});
localStorage.setItem("responsibilityData",JSON.stringify(data));
loadResponsibility();
rName.value=rRole.value=rMobile.value=rWhatsapp.value=rEmail.value=rPhoto.value="";
}

if(file){
if(!validateImage(file)) return;
let reader=new FileReader();
reader.onload=e=>save(e.target.result);
reader.readAsDataURL(file);
}else{
save("");
}
}

function loadResponsibility(){
let data=JSON.parse(localStorage.getItem("responsibilityData"))||[];
respList.innerHTML="";
data.forEach((r,i)=>{
respList.innerHTML+=`
<div class="card">
<div>
<img src="${r.image||'https://via.placeholder.com/60'}">
<b>${r.name}</b><br>${r.role}
</div>
<div>
<a class="small-btn call" href="tel:${r.mobile}">Call</a>
<a class="small-btn whatsapp" href="https://wa.me/${r.whatsapp}" target="_blank">WA</a>
<a class="small-btn email" href="mailto:${r.email}">Mail</a>
<button class="small-btn delete" onclick="deleteResp(${i})">X</button>
</div>
</div>`;
});
}

function deleteResp(i){
let data=JSON.parse(localStorage.getItem("responsibilityData"))||[];
data.splice(i,1);
localStorage.setItem("responsibilityData",JSON.stringify(data));
loadResponsibility();
}

/* ================= NOTES ================= */
function addNote(){
let file=noteFile.files[0];
let data=JSON.parse(localStorage.getItem("notes"))||[];
let reader=new FileReader();
reader.onload=e=>{
data.push({title:noteTitle.value,file:e.target.result,filename:file.name});
localStorage.setItem("notes",JSON.stringify(data));
loadNotes();
noteTitle.value=noteFile.value="";
}
if(file) reader.readAsDataURL(file);
}

function loadNotes(){
let data=JSON.parse(localStorage.getItem("notes"))||[];
noteList.innerHTML="";
data.forEach((n,i)=>{
noteList.innerHTML+=`
<div class="card">
<span>${n.title}</span>
<div>
<a class="small-btn download" href="${n.file}" download="${n.filename}">Download</a>
<button class="small-btn delete" onclick="deleteNote(${i})">X</button>
</div>
</div>`;
});
}

function deleteNote(i){
let data=JSON.parse(localStorage.getItem("notes"))||[];
data.splice(i,1);
localStorage.setItem("notes",JSON.stringify(data));
loadNotes();
}

/* ================= NOTIFICATIONS ================= */
function addNotification(){
let data=JSON.parse(localStorage.getItem("notifications"))||[];
data.push({title:notifyTitle.value,link:notifyLink.value});
localStorage.setItem("notifications",JSON.stringify(data));
loadNotifications();
notifyTitle.value=notifyLink.value="";
}

function loadNotifications(){
let data=JSON.parse(localStorage.getItem("notifications"))||[];
notifyList.innerHTML="";
data.forEach((n,i)=>{
notifyList.innerHTML+=`
<div class="card">
<a href="${n.link}" target="_blank">${n.title}</a>
<button class="small-btn delete" onclick="deleteNotification(${i})">X</button>
</div>`;
});
}

function deleteNotification(i){
let data=JSON.parse(localStorage.getItem("notifications"))||[];
data.splice(i,1);
localStorage.setItem("notifications",JSON.stringify(data));
loadNotifications();
}

function loadAll(){
loadTeachers();
loadResponsibility();
loadNotes();
loadNotifications();
}

</script>
</body>
</html>