<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ADMIN PANEL | MATH'S WARRIOR</title>

<style>
body{
margin:0;
font-family:Poppins, sans-serif;
background:linear-gradient(135deg,#000428,#004e92);
}

.header{
background:#111;
color:#FFD700;
padding:18px;
text-align:center;
font-size:22px;
font-weight:bold;
}

.container{
padding:20px;
}

.box{
background:white;
padding:15px;
border-radius:12px;
margin-bottom:20px;
}

input{
width:100%;
padding:8px;
margin:5px 0;
}

button{
padding:6px 10px;
border:none;
border-radius:6px;
cursor:pointer;
margin-top:5px;
}

.add-btn{background:#28a745;color:white;}
.delete-btn{background:red;color:white;}
.update-btn{background:#1E90FF;color:white;}
</style>
</head>

<body>

<div class="header">ADMIN PANEL - MATH'S WARRIOR</div>

<div class="container">

<!-- LOGIN -->
<div class="box" id="loginBox">
<h3>Admin Login</h3>
<input type="text" id="adminId" placeholder="Admin ID">
<input type="password" id="adminPass" placeholder="Password">
<button onclick="login()" class="add-btn">Login</button>
</div>

<div id="adminContent" style="display:none;">

<!-- STUDENTS (AUTO FROM REGISTRATION) -->
<div class="box">
<h3>Registered Students (Auto)</h3>
<div id="studentList"></div>
</div>

<!-- TEACHER -->
<div class="box">
<h3>Add / Update Teacher</h3>
<input type="hidden" id="teacherIndex">
<input type="text" id="tName" placeholder="Name">
<input type="text" id="tSubject" placeholder="Subject">
<input type="text" id="tMobile" placeholder="Mobile">
<input type="text" id="tWhatsapp" placeholder="WhatsApp">
<input type="email" id="tEmail" placeholder="Email">
<input type="text" id="tYoutube" placeholder="YouTube Link">
<input type="file" id="tPhoto">
<button onclick="saveTeacher()" class="add-btn">Save Teacher</button>
<div id="teacherList"></div>
</div>

<!-- FOUNDER -->
<div class="box">
<h3>Add / Update Founder</h3>
<input type="hidden" id="founderIndex">
<input type="text" id="fName" placeholder="Name">
<input type="text" id="fSubject" placeholder="Responsibility">
<input type="text" id="fMobile" placeholder="Mobile">
<input type="text" id="fWhatsapp" placeholder="WhatsApp">
<input type="email" id="fEmail" placeholder="Email">
<input type="text" id="fYoutube" placeholder="YouTube Link">
<input type="file" id="fPhoto">
<button onclick="saveFounder()" class="add-btn">Save Founder</button>
<div id="founderList"></div>
</div>

<!-- NOTES -->
<div class="box">
<h3>Add Notes</h3>
<input type="text" id="noteName" placeholder="Notes Name">
<input type="text" id="noteTeacher" placeholder="Teacher Name">
<input type="file" id="noteFile">
<button onclick="addNotes()" class="add-btn">Add Notes</button>
<div id="notesList"></div>
</div>

<!-- NOTIFICATION -->
<div class="box">
<h3>Add Notification</h3>
<input type="text" id="notiName" placeholder="Notification Name">
<input type="text" id="notiLink" placeholder="Paste Link">
<button onclick="addNotification()" class="add-btn">Add Notification</button>
<div id="notiList"></div>
</div>

</div>
</div>

<script>

const ADMIN_ID="ADMIN";
const ADMIN_PASS="12345";

function login(){
if(adminId.value===ADMIN_ID && adminPass.value===ADMIN_PASS){
loginBox.style.display="none";
adminContent.style.display="block";
loadAll();
}else{
alert("Wrong ID or Password");
}
}

/* LOAD ALL */
function loadAll(){
loadStudents();
loadTeachers();
loadFounders();
loadNotes();
loadNotifications();
}

/* STUDENTS AUTO */
function loadStudents(){
let data=JSON.parse(localStorage.getItem("STUDENTS"))||[];
let div=document.getElementById("studentList");
div.innerHTML="";
data.forEach((s,i)=>{
div.innerHTML+=`
<div>
${s.name} (${s.mobile}) - ${s.course || ""}
<button class="delete-btn" onclick="deleteItem('STUDENTS',${i})">Delete</button>
</div>`;
});
}

/* TEACHER SAVE/UPDATE */
function saveTeacher(){
let arr=JSON.parse(localStorage.getItem("TEACHERS"))||[];
let index=document.getElementById("teacherIndex").value;
let file=tPhoto.files[0];

function save(photo){
let data={
name:tName.value,
subject:tSubject.value,
mobile:tMobile.value,
whatsapp:tWhatsapp.value,
email:tEmail.value,
youtube:tYoutube.value,
photo:photo
};

if(index===""){
arr.push(data);
}else{
arr[index]=data;
}
localStorage.setItem("TEACHERS",JSON.stringify(arr));
document.getElementById("teacherIndex").value="";
loadTeachers();
}

if(file){
let reader=new FileReader();
reader.onload=function(){ save(reader.result); }
reader.readAsDataURL(file);
}else{
save("");
}
}

function loadTeachers(){
let arr=JSON.parse(localStorage.getItem("TEACHERS"))||[];
let div=document.getElementById("teacherList");
div.innerHTML="";
arr.forEach((t,i)=>{
div.innerHTML+=`
<div>
${t.name} - ${t.subject}
<button class="update-btn" onclick="editTeacher(${i})">Edit</button>
<button class="delete-btn" onclick="deleteItem('TEACHERS',${i})">Delete</button>
</div>`;
});
}

function editTeacher(i){
let arr=JSON.parse(localStorage.getItem("TEACHERS"));
let t=arr[i];
teacherIndex.value=i;
tName.value=t.name;
tSubject.value=t.subject;
tMobile.value=t.mobile;
tWhatsapp.value=t.whatsapp;
tEmail.value=t.email;
tYoutube.value=t.youtube;
}

/* FOUNDER */
function saveFounder(){
let arr=JSON.parse(localStorage.getItem("FOUNDERS"))||[];
let index=document.getElementById("founderIndex").value;
let file=fPhoto.files[0];

function save(photo){
let data={
name:fName.value,
subject:fSubject.value,
mobile:fMobile.value,
whatsapp:fWhatsapp.value,
email:fEmail.value,
youtube:fYoutube.value,
photo:photo
};

if(index===""){
arr.push(data);
}else{
arr[index]=data;
}
localStorage.setItem("FOUNDERS",JSON.stringify(arr));
founderIndex.value="";
loadFounders();
}

if(file){
let reader=new FileReader();
reader.onload=function(){ save(reader.result); }
reader.readAsDataURL(file);
}else{
save("");
}
}

function loadFounders(){
let arr=JSON.parse(localStorage.getItem("FOUNDERS"))||[];
let div=document.getElementById("founderList");
div.innerHTML="";
arr.forEach((f,i)=>{
div.innerHTML+=`
<div>
${f.name} - ${f.subject}
<button class="update-btn" onclick="editFounder(${i})">Edit</button>
<button class="delete-btn" onclick="deleteItem('FOUNDERS',${i})">Delete</button>
</div>`;
});
}

function editFounder(i){
let arr=JSON.parse(localStorage.getItem("FOUNDERS"));
let f=arr[i];
founderIndex.value=i;
fName.value=f.name;
fSubject.value=f.subject;
fMobile.value=f.mobile;
fWhatsapp.value=f.whatsapp;
fEmail.value=f.email;
fYoutube.value=f.youtube;
}

/* NOTES */
function addNotes(){
let file=noteFile.files[0];
let reader=new FileReader();
reader.onload=function(){
let arr=JSON.parse(localStorage.getItem("NOTES"))||[];
arr.push({name:noteName.value,teacher:noteTeacher.value,file:reader.result});
localStorage.setItem("NOTES",JSON.stringify(arr));
loadNotes();
}
if(file) reader.readAsDataURL(file);
}

function loadNotes(){
let arr=JSON.parse(localStorage.getItem("NOTES"))||[];
let div=document.getElementById("notesList");
div.innerHTML="";
arr.forEach((n,i)=>{
div.innerHTML+=`
<div>
${n.name} - ${n.teacher}
<button class="delete-btn" onclick="deleteItem('NOTES',${i})">Delete</button>
</div>`;
});
}

/* NOTIFICATION */
function addNotification(){
let arr=JSON.parse(localStorage.getItem("NOTIFICATIONS"))||[];
arr.push({name:notiName.value,link:notiLink.value});
localStorage.setItem("NOTIFICATIONS",JSON.stringify(arr));
loadNotifications();
}

function loadNotifications(){
let arr=JSON.parse(localStorage.getItem("NOTIFICATIONS"))||[];
let div=document.getElementById("notiList");
div.innerHTML="";
arr.forEach((n,i)=>{
div.innerHTML+=`
<div>
${n.name}
<button class="delete-btn" onclick="deleteItem('NOTIFICATIONS',${i})">Delete</button>
</div>`;
});
}

/* DELETE */
function deleteItem(key,i){
let arr=JSON.parse(localStorage.getItem(key))||[];
arr.splice(i,1);
localStorage.setItem(key,JSON.stringify(arr));
loadAll();
}

</script>

</body>
</html>