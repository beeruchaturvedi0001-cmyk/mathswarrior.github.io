<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Panel | MATH'S WARRIOR</title>
<style>
body{
  font-family:'Poppins',sans-serif;
  margin:0; padding:0;
  background:linear-gradient(135deg,#ff416c,#ff4b2b);
  color:white;
}
.container{
  max-width:1000px; margin:20px auto; padding:20px;
  background:white; color:#333; border-radius:15px; box-shadow:0 8px 25px rgba(0,0,0,0.3);
}
h2{color:#ff416c; text-align:center;}
input,select,textarea,button{
  width:100%; padding:10px; margin:5px 0; border-radius:8px; border:1px solid #ccc;
}
button{
  background:#ff416c; color:white; font-weight:bold; cursor:pointer; transition:0.3s;
}
button:hover{background:#ff4b2b;}
.accordion{
  background:#ff9a9e; cursor:pointer; padding:12px; margin:5px 0; border:none; text-align:left;
  outline:none; font-size:16px; transition:0.3s; border-radius:8px;
}
.accordion:hover{background:#ff6a6a;}
.panel{padding:10px; display:none; background:#ffe6e6; border-radius:8px; margin-bottom:10px;}
.table-box{width:100%; overflow-x:auto; margin-top:10px;}
table{width:100%; border-collapse:collapse;}
th,td{padding:8px; text-align:left; border-bottom:1px solid #ccc;}
th{background:#ff4b2b; color:white;}
td{background:#fff; color:#333;}
.status{color:green; font-weight:bold; text-align:center; margin:10px 0;}
</style>
</head>
<body>

<div class="container" id="loginBox">
<h2>Admin Login</h2>
<input type="text" id="adminId" placeholder="Enter Admin ID">
<input type="password" id="adminPass" placeholder="Enter Password">
<button onclick="adminLogin()">Login</button>
<p id="loginStatus"></p>
</div>

<div class="container" id="adminPanel" style="display:none;">
<h2>Admin Panel</h2>

<!-- Student Data Accordion -->
<button class="accordion">Student Data</button>
<div class="panel" id="studentPanel">
  <div class="table-box">
    <table id="studentTable">
      <tr>
        <th>Sr No</th>
        <th>Name</th>
        <th>Mobile No</th>
        <th>Course</th>
      </tr>
    </table>
  </div>
</div>

<!-- Teacher Management Accordion -->
<button class="accordion">Teacher Management</button>
<div class="panel" id="teacherPanel">
  <h3>Add Teacher</h3>
  <input type="text" id="teacherName" placeholder="Name">
  <input type="text" id="teacherMobile" placeholder="Mobile Number">
  <input type="text" id="teacherWhatsApp" placeholder="WhatsApp Number">
  <input type="text" id="teacherEmail" placeholder="Email ID">
  <input type="text" id="teacherTelegram" placeholder="Telegram ID/Link">
  <input type="text" id="teacherSubject" placeholder="Subject">
  <input type="text" id="teacherExperience" placeholder="Experience">
  <input type="file" id="teacherPhoto" accept="image/png,image/jpeg,image/jpg,image/webp">
  <button onclick="addTeacher()">Add Teacher</button>
  <p class="status" id="teacherStatus"></p>
  <div class="table-box">
    <table id="teacherTable">
      <tr>
        <th>Sr No</th>
        <th>Name</th>
        <th>Subject</th>
        <th>Mobile</th>
        <th>Actions</th>
      </tr>
    </table>
  </div>
</div>

<!-- Founder Management Accordion -->
<button class="accordion">Founder Management</button>
<div class="panel" id="founderPanel">
  <h3>Add Founder</h3>
  <input type="text" id="founderName" placeholder="Name">
  <input type="text" id="founderResp" placeholder="Responsibility">
  <input type="text" id="founderMobile" placeholder="Mobile Number">
  <input type="text" id="founderWhatsApp" placeholder="WhatsApp Number">
  <input type="email" id="founderEmail" placeholder="Email ID">
  <input type="text" id="founderTelegram" placeholder="Telegram ID/Link">
  <input type="file" id="founderPhoto" accept="image/png,image/jpeg,image/jpg,image/webp">
  <button onclick="addFounder()">Add Founder</button>
  <p class="status" id="founderStatus"></p>
  <div class="table-box">
    <table id="founderTable">
      <tr>
        <th>Sr No</th>
        <th>Name</th>
        <th>Responsibility</th>
        <th>Mobile</th>
        <th>WhatsApp</th>
        <th>Email</th>
        <th>Telegram</th>
        <th>Photo</th>
        <th>Actions</th>
      </tr>
    </table>
  </div>
</div>

<!-- Notification Management Accordion -->
<button class="accordion">Notifications</button>
<div class="panel" id="notificationPanel">
  <input type="text" id="notifName" placeholder="Notification Name">
  <input type="text" id="notifLink" placeholder="Notification Link">
  <button onclick="addNotification()">Add Notification</button>
  <p class="status" id="notifStatus"></p>
  <div class="table-box">
    <table id="notifTable">
      <tr>
        <th>Sr No</th>
        <th>Name</th>
        <th>Link</th>
        <th>Actions</th>
      </tr>
    </table>
  </div>
</div>

<!-- Files Management Accordion -->
<button class="accordion">Files Management</button>
<div class="panel" id="filesPanel">
  <input type="text" id="fileName" placeholder="File Name">
  <input type="file" id="fileUpload">
  <button onclick="addFile()">Upload File</button>
  <p class="status" id="fileStatus"></p>
  <div class="table-box">
    <table id="filesTable">
      <tr>
        <th>Sr No</th>
        <th>Name</th>
        <th>File</th>
        <th>Actions</th>
      </tr>
    </table>
  </div>
</div>

<script>
// Admin Login
function adminLogin(){
  const id=document.getElementById('adminId').value.trim();
  const pass=document.getElementById('adminPass').value.trim();
  if(id==="admin" && pass==="12345"){
    document.getElementById('loginBox').style.display="none";
    document.getElementById('adminPanel').style.display="block";
    loadStudents();
    loadTeachers();
    loadFounders();
    loadNotifications();
    loadFiles();
    alert("Login Successful!");
  }else{
    alert("Invalid User ID or Password!");
  }
}

// Accordion
const acc=document.getElementsByClassName('accordion');
for(let i=0;i<acc.length;i++){
  acc[i].addEventListener('click',function(){
    this.classList.toggle('active');
    const panel=this.nextElementSibling;
    panel.style.display=(panel.style.display==="block")?"none":"block";
  });
}

// Load Students
function loadStudents(){
  const students=JSON.parse(localStorage.getItem('registrations'))||[];
  const table=document.getElementById('studentTable');
  table.innerHTML=`<tr><th>Sr No</th><th>Name</th><th>Mobile No</th><th>Course</th></tr>`;
  students.forEach((s,i)=>{
    const row=table.insertRow();
    row.insertCell(0).innerText=i+1;
    row.insertCell(1).innerText=s.fullName;
    row.insertCell(2).innerText=s.whatsapp;
    row.insertCell(3).innerText=s.selectedCourse;
  });
}

// Teacher Management
function addTeacher(){
  const t={
    name:document.getElementById('teacherName').value,
    mobile:document.getElementById('teacherMobile').value,
    whatsapp:document.getElementById('teacherWhatsApp').value,
    email:document.getElementById('teacherEmail').value,
    telegram:document.getElementById('teacherTelegram').value,
    subject:document.getElementById('teacherSubject').value,
    experience:document.getElementById('teacherExperience').value,
    photo:document.getElementById('teacherPhoto').files[0]?URL.createObjectURL(document.getElementById('teacherPhoto').files[0]):""
  };
  if(!t.name || !t.mobile || !t.subject){ alert("Fill Name, Mobile, Subject"); return;}
  let teachers=JSON.parse(localStorage.getItem('teachers'))||[];
  teachers.push(t);
  localStorage.setItem('teachers',JSON.stringify(teachers));
  document.getElementById('teacherStatus').innerText="Teacher Added Successfully!";
  loadTeachers();
}
function loadTeachers(){
  const teachers=JSON.parse(localStorage.getItem('teachers'))||[];
  const table=document.getElementById('teacherTable');
  table.innerHTML=`<tr><th>Sr No</th><th>Name</th><th>Subject</th><th>Mobile</th><th>Actions</th></tr>`;
  teachers.forEach((t,i)=>{
    const row=table.insertRow();
    row.insertCell(0).innerText=i+1;
    row.insertCell(1).innerText=t.name;
    row.insertCell(2).innerText=t.subject;
    row.insertCell(3).innerText=t.mobile;
    row.insertCell(4).innerHTML=`<button onclick="deleteTeacher(${i})">Delete</button>`;
  });
}
function deleteTeacher(i){
  let teachers=JSON.parse(localStorage.getItem('teachers'))||[];
  teachers.splice(i,1);
  localStorage.setItem('teachers',JSON.stringify(teachers));
  loadTeachers();
}

// Founder Management
function addFounder(){
  const f={
    name:document.getElementById('founderName').value,
    resp:document.getElementById('founderResp').value,
    mobile:document.getElementById('founderMobile').value,
    whatsapp:document.getElementById('founderWhatsApp').value,
    email:document.getElementById('founderEmail').value,
    telegram:document.getElementById('founderTelegram').value,
    photo:document.getElementById('founderPhoto').files[0]?URL.createObjectURL(document.getElementById('founderPhoto').files[0]):""
  };
  let founders=JSON.parse(localStorage.getItem('founders'))||[];
  founders.push(f);
  localStorage.setItem('founders',JSON.stringify(founders));
  document.getElementById('founderStatus').innerText="Founder Added Successfully!";
  loadFounders();
}
function loadFounders(){
  const founders=JSON.parse(localStorage.getItem('founders'))||[];
  const table=document.getElementById('founderTable');
  table.innerHTML=`<tr>
    <th>Sr No</th><th>Name</th><th>Responsibility</th><th>Mobile</th>
    <th>WhatsApp</th><th>Email</th><th>Telegram</th><th>Photo</th><th>Actions</th></tr>`;
  founders.forEach((f,i)=>{
    const row=table.insertRow();
    row.insertCell(0).innerText=i+1;
    row.insertCell(1).innerText=f.name;
    row.insertCell(2).innerText=f.resp;
    row.insertCell(3).innerText=f.mobile;
    row.insertCell(4).innerText=f.whatsapp;
    row.insertCell(5).innerText=f.email;
    row.insertCell(6).innerText=f.telegram;
    row.insertCell(7).innerHTML=f.photo? `<img src="${f.photo}" width="50">` : "";
    row.insertCell(8).innerHTML=`<button onclick="deleteFounder(${i})">Delete</button>`;
  });
}
function deleteFounder(i){
  let founders=JSON.parse(localStorage.getItem('founders'))||[];
  founders.splice(i,1);
  localStorage.setItem('founders',JSON.stringify(founders));
  loadFounders();
}

// Notifications
function addNotification(){
  const n={
    name:document.getElementById('notifName').value,
    link:document.getElementById('notifLink').value
  };
  let notifs=JSON.parse(localStorage.getItem('notifications'))||[];
  notifs.push(n);
  localStorage.setItem('notifications',JSON.stringify(notifs));
  document.getElementById('notifStatus').innerText="Notification Added!";
  loadNotifications();
}
function loadNotifications(){
  const notifs=JSON.parse(localStorage.getItem('notifications'))||[];
  const table=document.getElementById('notifTable');
  table.innerHTML=`<tr><th>Sr No</th><th>Name</th><th>Link</th><th>Actions</th></tr>`;
  notifs.forEach((n,i)=>{
    const row=table.insertRow();
    row.insertCell(0).innerText=i+1;
    row.insertCell(1).innerText=n.name;
    row.insertCell(2).innerHTML=`<a href="${n.link}" target="_blank">${n.link}</a>`;
    row.insertCell(3).innerHTML=`<button onclick="deleteNotification(${i})">Delete</button>`;
  });
}
function deleteNotification(i){
  let notifs=JSON.parse(localStorage.getItem('notifications'))||[];
  notifs.splice(i,1);
  localStorage.setItem('notifications',JSON.stringify(notifs));
  loadNotifications();
}

// Files
function addFile(){
  const fName=document.getElementById('fileName').value;
  const fFile=document.getElementById('fileUpload').files[0];
  if(!fName || !fFile){ alert("Fill all fields"); return; }
  const f={
    name:fName,
    file:URL.createObjectURL(fFile)
  };
  let files=JSON.parse(localStorage.getItem('files'))||[];
  files.push(f);
  localStorage.setItem('files',JSON.stringify(files));
  document.getElementById('fileStatus').innerText="File Uploaded!";
  loadFiles();
}
function loadFiles(){
  const files=JSON.parse(localStorage.getItem('files'))||[];
  const table=document.getElementById('filesTable');
  table.innerHTML=`<tr><th>Sr No</th><th>Name</th><th>File</th><th>Actions</th></tr>`;
  files.forEach((f,i)=>{
    const row=table.insertRow();
    row.insertCell(0).innerText=i+1;
    row.insertCell(1).innerText=f.name;
    row.insertCell(2).innerHTML=`<a href="${f.file}" target="_blank">View File</a>`;
    row.insertCell(3).innerHTML=`<button onclick="deleteFile(${i})">Delete</button>`;
  });
}
function deleteFile(i){
  let files=JSON.parse(localStorage.getItem('files'))||[];
  files.splice(i,1);
  localStorage.setItem('files',JSON.stringify(files));
  loadFiles();
}
</script>
</body>
</html>